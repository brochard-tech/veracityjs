function VeracityType(e,r,t){this.name=e,this.validator=r,this.value=t}var exports=module.exports={},logError=function(e,r){"undefined"!=typeof process&&process.env&&"production"===process.env.NODE_ENV||console.error("Veracity Error"+(r?"["+r+"]":""),e)},constructVeracityType=function(e){return"function"==typeof e&&(e=e()),e instanceof VeracityType?e:(logError("A pattern validator must be an instance of VeracityType"),null)};exports.Type={Integer:function(){return new VeracityType("integer",function(e){return!isNaN(e)&&isFinite(e)&&e%1===0})},Float:function(){return new VeracityType("float",function(e){return Number(e)===e&&e%1!==0})},Boolean:function(){return new VeracityType("boolean",function(e){return"boolean"==typeof e})},String:function(){return new VeracityType("string",function(e){return"string"==typeof e})},Array:function(){return new VeracityType("array",function(e){return e instanceof Array})},Object:function(e){return new VeracityType("object",function(e,r){return"object"!=typeof e||e instanceof Array?!1:r?exports.validate(e,r):!0},e)},Regex:function(e){return new VeracityType("regex",function(e,r){return r?new RegExp(r).test(e):!1},e)},AmongValues:function(e){return new VeracityType("amongvalues",function(e,r){if(!r)return!1;for(var t=0;t<r.length;t++){var n=r[t];if(e===n)return!0}return!1},e)},AmongTypes:function(e){return new VeracityType("amongTypes",function(e,r){if(!r)return!1;for(var t=0;t<r.length;t++){var n=constructVeracityType(r[t]);if(n instanceof VeracityType&&exports.validate(e,n))return!0}return!1},e)}},exports.validateFormat=function(e,r){return null!=e&&r&&(!r||r instanceof VeracityType)?r.validator(e,r.value):!1},exports.validate=function(e,r,t){if(null==e||!r)return!0;if(!(r instanceof Array))return exports.validateFormat(e,constructVeracityType(r),t);var n=!0;t=t||{};for(var o=0;o<r.length;o++){var a=r[o];if(a.type=constructVeracityType(a.type),e.hasOwnProperty(a.name)){var i=e[a.name];exports.validateFormat(i,a.type,a.value)||(n=!1,logError("Bad format for property : "+i+", expected : "+a.type.name+", but : "+typeof i,t.ref))}else a.required&&(n=!1,logError("Missing parameter, expected : "+a.name,t.ref));if(!n)break}return n&&t.success&&t.success(e),n},module.export=exports;